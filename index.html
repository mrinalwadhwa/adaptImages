<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Responsive Images using adaptImages.js</title>
  <style>
    img { width: 100%; }
    #content {
      margin: 0 auto;
      max-width: 1024px;
    }
  </style>
</head>
<body data-img-versions="l l2x m m2x s s2x">
  
  <div id="content">
    
    <h1>Responsive Images using <a href="https://github.com/mrinalwadhwa/adaptImages">adaptImages.js</a></h1>
    <p>The two images below look the same when seen in a browser with width greater than 640 pixels, but if you resize your browser or if you’re viewing this page on a device with a lesser width, you will notice that the second image is aware of it’s context and will show a version more appropriate for it’s size.</p>
    
    <h2>A plain old image</h2>
    <p>At small browser widths, when this image is simply scaled down, you can barely recognize Obama.</p>
    <img src="obama_1024.jpg" alt="Barack Obama at Chrysler, Toledo, in June 2011"/>
    
    <h2>A responsive image that uses adaptImages.js</h2>
    <p>At small browser widths, a cropped version, more suited for that size is shown.</p>
    <noscript
      data-l="obama_1024.jpg" data-l2x="obama_1024_2x.jpg"
      data-m="obama_640.jpg"  data-m2x="obama_640_2x.jpg"
      data-s="obama_480.jpg"  data-s2x="obama_480_2x.jpg"
      alt="Barack Obama at Chrysler, Toledo, in June 2011">
      <img src="obama_480.jpg"
        alt="Barack Obama at Chrysler, Toledo, in June 2011"/>
    </noscript>
    
    <small>
      <strong>Credits</strong>
      <p>I borrowed the idea of using this particular image <a href="http://blog.cloudfour.com/a-framework-for-discussing-responsive-images-solutions/">from Jason Grigsby</a>, his blog posts on responsive images are quite informative.</p>
      <p><a href="http://www.flickr.com/photos/barackobamadotcom/5795228030/">Photo</a> of Obama licensed under Creative Commons. CC BY-NC-SA 2.0 from <a href="http://www.flickr.com/photos/barackobamadotcom/5795228030/">BarackObamaDotCom</a></p>
    </small>
  </div>
  
  <script>
    /*!
     * domready (c) Dustin Diaz 2012 - License MIT
     * https://github.com/ded/domready
     */
    !function(a,b){typeof module!="undefined"?module.exports=b():typeof define=="function"&&typeof define.amd=="object"?define(b):this[a]=b()}("domready",function(a){function m(a){l=1;while(a=b.shift())a()}var b=[],c,d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=/^loade|c/.test(e[k]);return e[i]&&e[i](h,c=function(){e.removeEventListener(h,c,d),m()},d),g&&e.attachEvent(j,c=function(){/^c/.test(e[k])&&(e.detachEvent(j,c),m())}),a=g?function(c){self!=top?l?c():b.push(c):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){a(c)},50)}c()}()}:function(a){l?a():b.push(a)}})
  </script>
  <script>
    /*!
     * adaptImages (c) Mrinal Wadhwa 2012 - License MIT
     * https://github.com/mrinalwadhwa/adaptImages
     */
    function adaptImages(e){var t=document,n="getElementsByTagName",r="getAttribute",i="setAttribute",s="length",o="data-",u="alt",a=["l","s"],f=t.body[r](o+"img-versions"),a=f?f.split(" "):a,l=a[s],e=o+e,c=t[n]("img"),h=c[s],p,d;for(;h--,p=c[h];)(f=p[r](e))&&p[i]("src",f);for(c=t[n]("noscript"),h=c[s];h--,p=c[h];)if(f=p[r](e)){d=t.createElement("img"),d[i]("src",f);for(;l--;)(f=p[r](o+a[l]))&&d[i](o+a[l],f);(f=p[r](o+u))&&d[i](u,f),p.parentNode.replaceChild(d,p)}};
  </script>
  <script>
    
    function adapt(){
      var r = window.devicePixelRatio || 1,
          w = document.documentElement.clientWidth,
          s = w > 640 ? 'l' : w > 480 ? 'm' : 's';
      adaptImages(r > 1 ? s+'2x' : s)
    }
    
    domready(adapt);
    window.onresize = adapt;
    
  </script>
  
</body>
</html>